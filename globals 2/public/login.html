<!DOCTYPE html>  
<html lang="en">    
<head>    
  <meta charset="utf-8" />    
  <meta name="viewport" content="width=device-width,initial-scale=1"/>    
  <title>Login | Globals</title>    
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">    
  <script src="https://unpkg.com/lucide@0.278.0/dist/lucide.min.js"></script>    
  <style>    
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }    
    .fade-in { animation: fadeIn .9s ease-in-out; }    
    @keyframes fadeIn { from { opacity: 0; transform: translateY(18px);} to { opacity:1; transform: translateY(0);} }    
    .glass { background: rgba(255,255,255,0.95); backdrop-filter: blur(8px); }    

    /* --- MINIMALIST BUTTON LOADER --- */
    .btn-loading {
      position: relative;
      color: transparent !important;
      pointer-events: none;
    }
    .btn-loading::after {
      content: "";
      position: absolute;
      width: 22px;
      height: 22px;
      top: 50%;
      left: 50%;
      margin: -11px 0 0 -11px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: button-spin 0.6s linear infinite;
    }
    @keyframes button-spin { to { transform: rotate(360deg); } }

    /* --- MODERN EYE TOGGLE --- */
    .eye-btn { transition: all 0.2s; color: #9ca3af; padding: 8px; }
    .eye-btn.active { color: #2563eb; transform: scale(1.1); }
  </style>    
</head>    
<body class="bg-gradient-to-br from-blue-100 to-blue-300 min-h-screen flex items-center justify-center p-4">

  <div class="w-full max-w-md mx-auto p-6 rounded-2xl shadow-xl glass fade-in">    
    <div class="flex justify-center mb-4">    
      <img src="GLOBALS.jpg" alt="Logo" class="h-14 w-auto rounded-lg">    
    </div>  
    <h2 class="text-2xl font-bold text-center text-blue-800 mb-6">Welcome Back</h2>    
    
    <form id="loginForm" class="space-y-4">    
      <input id="loginEmail" type="email" placeholder="Email" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none" required>    
      
      <div class="relative">    
        <input id="loginPassword" type="password" placeholder="Password" class="w-full px-4 pr-12 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none" required>    
        <button type="button" id="loginTogglePassword" class="eye-btn absolute inset-y-0 right-1 flex items-center">    
          <i data-lucide="eye-off" class="w-5 h-5"></i>    
        </button>    
      </div>      
     
      <button type="submit" id="loginBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-semibold text-lg transition-all transform active:scale-95">
        Login
      </button>
    </form>    

    <p class="mt-6 text-center text-sm text-gray-600">    
      New here? <a href="signup.html" class="text-blue-600 hover:underline font-medium">Create Account</a>    
    </p>    
  </div>    

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>    
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>    
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>    

  <script>    
    const firebaseConfig = { apiKey: "AIzaSyCuI_Nw4HMbDWa6wR3FhHJMHOUgx53E40c", authDomain: "globals-17bf7.firebaseapp.com", projectId: "globals-17bf7", storageBucket: "globals-17bf7.appspot.com", messagingSenderId: "603274362994", appId: "1:603274362994:web:c312c10cf0a42938e882eb" };    
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    document.addEventListener('DOMContentLoaded', () => {
      lucide.createIcons();

      const loginBtn = document.getElementById('loginBtn');
      const loginPassword = document.getElementById('loginPassword');
      const toggleBtn = document.getElementById('loginTogglePassword');

      // 1. Interactive Eye Toggle
      toggleBtn.addEventListener('click', () => {
        const isShowing = loginPassword.type === 'text';
        loginPassword.type = isShowing ? 'password' : 'text';
        toggleBtn.classList.toggle('active', !isShowing);
        toggleBtn.innerHTML = `<i data-lucide="${isShowing ? 'eye-off' : 'eye'}" class="w-5 h-5"></i>`;
        lucide.createIcons();
      });

      // 2. Submit with Inline Maneuver
      document.getElementById('loginForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        loginBtn.classList.add('btn-loading');

        try {
          const email = document.getElementById('loginEmail').value.trim();
          await new Promise(r => setTimeout(r, 800)); // Minimal feel
          await auth.signInWithEmailAndPassword(email, loginPassword.value);
          window.location.href = 'dashboard.html';
        } catch (err) {
          loginBtn.classList.remove('btn-loading');
          alert("‚ùå " + err.message);
        }
      });
    });
  </script>
</body>
</html>
